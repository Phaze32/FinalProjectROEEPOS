function ptShowMenuPopup(e,t,n,r){e=$(e.id);var i=$(t);if(!i)return;e.addClassName("active");var s=CUSTOMMENU_POPUP_WIDTH;if(!s)s=i.getWidth();i.style.display="inline-block";var o=$(n);var u=$(r);var a=0;if(o&&!u){a=o.getWidth()}if(!o&&u){a=u.getWidth()}if(o&&u){if(o.getWidth()>=u.getWidth()){a=o.getWidth()}if(o.getWidth()<u.getWidth()){a=u.getWidth()}}a=a+30;var f=ptPopupPos(e,a);i.style.top=f.top+"px";i.style.left=f.left+"px";if(CUSTOMMENU_POPUP_WIDTH)i.style.width=CUSTOMMENU_POPUP_WIDTH+"px"}function ptPopupPos(e,t){var n=e.cumulativeOffset();var r=$("pt_custommenu");var i=r.cumulativeOffset();var s=r.getWidth();var o=n.top-i.top+CUSTOMMENU_POPUP_TOP_OFFSET;var u=n.left-i.left;if(u+t>s)u=s-t;return{top:o,left:u}}function ptHideMenuPopup(e,t,n,r){e=$(e.id);var i=$(n);if(!i)return;var s=null;if(t.toElement){s=t.toElement}else if(t.relatedTarget){s=t.relatedTarget}if(!ptIsChildOf(e,s)&&e!=s){if(!ptIsChildOf(i,s)&&i!=s){$(r).removeClassName("active")}}}function ptIsChildOf(e,t){if(t!=null){while(t.parentNode){if((t=t.parentNode)==e){return true}}}return false}